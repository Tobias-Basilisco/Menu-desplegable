<!DOCTYPE html>
<html>
<head>
  <title>Men√∫ Desplegable</title>
  <link rel="stylesheet" type="text/css" href="css/style3.css">
</head>
<body>

    <div>
			
			<div id="hamdiv">
					<a id="hamburger"  href="#"> <img src="img/hamburger.png" width="40px" height="40px" alt=""></a>
			</div>
			
		</div>  
  
    <nav class="container hide" id="apriMenu">
      <div class="logo"><a href="#"><img src="img/logo.jpg" alt="logo"></a>
			</div>
      <ul class="menu" >
        <li class="menu-item">Menu 1
          <ul class="submenu">
            <li class="submenu-item">Submenu 1</li>
            <li class="submenu-item">Submenu 2</li>
          </ul>
        </li>
        <li class="menu-item">Menu 2</li>
        <li class="menu-item">Menu 3
          <ul class="submenu">
            <li class="submenu-item">Submenu 3</li>
            <li class="submenu-item">Submenu 4
              <ul class="sub-submenu">
                <li class="sub-submenu-item">SSubmenu 1</li>
                <li class="sub-submenu-item">SSubmenu 2</li>
                <li class="sub-submenu-item">SSubmenu 3
                  <ul class="sub-sub-submenu">
                    <li class="sub-sub-submenu-item">SSSubmenu 1</li>
                    <li class="sub-sub-submenu-item">SSSubmenu 2</li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
      
    </nav>

<script>

document.getElementById('hamburger').addEventListener('click', manage_menu);

function manage_menu(){
    let menu = document.getElementById('apriMenu');
    let ham = document.getElementById('hamburger');
    var container = document.querySelector(".container");
    var documento = document.documentElement;


    if (menu.classList.contains("hide")){
    
        menu.classList.remove("hide");
        menu.classList.add("nav-transition")}
    else {
        menu.classList.add("hide");
    }
    
    if (menu.classList.contains("hide")){
      ham.classList.remove("hide");}

    else {
      ham.classList.add("hide");
    }

    setTimeout(() => {
      if(!menu.classList.contains("hide")){
      documento.addEventListener('click', function(event) {

        var esDentroDelDiv = container.contains(event.target);
        var esDentroHam = ham.contains(event.target);

        if (!esDentroDelDiv && !esDentroHam) {
          menu.classList.add("hide");
          menu.classList.remove("nav-transition");
          ham.classList.remove("hide")
        }
      })};
}, 1000);
    
    
    
  }

</script>

</body>
</html>
